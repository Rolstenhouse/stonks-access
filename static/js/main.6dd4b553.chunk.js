(this["webpackJsonpstonks-access"]=this["webpackJsonpstonks-access"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),o=a(10),r=a.n(o),s=(a(81),a(82),a(64)),l=a(151),u=a(11),j=a(32),b=a.n(j),d=a(57),h=a(142),O=a(28),g=a(63),f=a.n(g),m=a(58),p=a.n(m),x=a(67),v=a(152),y=a(147),S=a(146),w=a(148),k=a(155),C=a(145),E=a(154),I=a(149),T=a(153),A=a(150),F=function(e){var t=e.advanceStep,a=Object(c.useState)(""),i=Object(u.a)(a,2),o=i[0],r=i[1],s=Object(c.useState)(!1),l=Object(u.a)(s,2),j=l[0],d=l[1],g=Object(O.a)(),f=function(){d(!0)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(x.a,{variant:"h4",children:"Enter your early access code"}),Object(n.jsxs)("form",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(n.jsx)(v.a,{label:"Early Access Code",error:j,value:o,onChange:function(e){return r(e.target.value)},placeholder:"OPEN SESAME",helperText:j&&"Invalid access code. Please try again :)"}),Object(n.jsx)(y.a,{style:{backgroundImage:"linear-gradient(to top right, #A01A7D, #EC4067)",color:"white",marginLeft:g.spacing(4)},onClick:function(e){d(!1),b.a.get("https://api.withlaguna.com/stonks/access/code/".concat(o)).then((function(e){e.data.allow?t():f()})).catch((function(){f()}))},children:"Enter"})]})]})},P=function(e){var t=e.advanceStep,a=e.setUserId,i=Object(O.a)(),o=Object(c.useState)(!1),r=Object(u.a)(o,2),s=r[0],l=r[1],j=function(){l(!0)},d=Object(c.useState)(""),h=Object(u.a)(d,2),g=h[0],f=h[1],m=Object(c.useState)(""),p=Object(u.a)(m,2),A=p[0],F=p[1],P=Object(c.useState)(""),W=Object(u.a)(P,2),B=W[0],D=W[1],L=Object(c.useState)(""),_=Object(u.a)(L,2),z=_[0],N=_[1],U=Object(c.useState)(""),R=Object(u.a)(U,2),Y=R[0],H=R[1],J=Object(c.useState)(""),M=Object(u.a)(J,2),q=M[0],V=M[1],G=Object(c.useState)(""),K=Object(u.a)(G,2),Q=K[0],X=K[1],Z=Object(c.useState)("no"),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ne=Object(u.a)(ae,2),ce=ne[0],ie=ne[1],oe=Object(c.useState)(""),re=Object(u.a)(oe,2),se=re[0],le=re[1],ue=Object(c.useState)(""),je=Object(u.a)(ue,2),be=je[0],de=je[1],he=function(e){b.a.get("https://api.withlaguna.com/stonks/access/check_unique",{params:e}).then((function(e){})).catch((function(){e.subdomain?ie("Subdomain has already been claimed"):e.email?le("Email has already been claimed"):e.phone&&de("Phone has already been claimed")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"h4",children:"Account creation and configuration"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)(S.a,{style:{padding:i.spacing(6),marginBottom:i.spacing(2)},children:[Object(n.jsx)(x.a,{variant:"h6",children:"Your page information"}),Object(n.jsxs)(x.a,{variant:"caption",children:["Used to customize your page :)"," ",Object(n.jsx)(w.a,{href:"https://rob.withlaguna.com",children:"Sample Site"})]}),Object(n.jsx)(v.a,{value:g,onChange:function(e){return f(e.target.value)},label:"Title",helperText:"Rob's Stonks",fullWidth:!0}),Object(n.jsx)(v.a,{value:A,onChange:function(e){return F(e.target.value)},label:"Description",helperText:"Trading on long-term horizons",fullWidth:!0}),Object(n.jsx)(v.a,{value:B,onChange:function(e){return D(e.target.value)},label:"Link (optional)",helperText:"i.e. https://withterra.com",fullWidth:!0}),Object(n.jsx)(v.a,{value:z,onChange:function(e){N(e.target.value),ie("")},onBlur:function(e){return he({subdomain:z})},label:"Desired subdomain",helperText:ce||"i.e enter 'rob' if you want, rob.withlaguna.com",error:!!ce,fullWidth:!0}),Object(n.jsxs)(k.a,{component:"fieldset",margin:"none",fullWidth:!0,size:"small",style:{textAlign:"left",marginTop:i.spacing(1)},children:[Object(n.jsx)(C.a,{component:"legend",children:"Portfolio privacy setting"}),Object(n.jsxs)(E.a,{"aria-label":"show amounts",name:"Show portfolio amounts",value:ee,onChange:function(e){return te(e.target.value)},children:[Object(n.jsx)(I.a,{value:"no",control:Object(n.jsx)(T.a,{color:"primary",size:"small"}),label:"Show portfolio percentage only"}),Object(n.jsx)(I.a,{value:"yes",control:Object(n.jsx)(T.a,{color:"primary",size:"small"}),label:"Show portfolio amounts in USD"})]})]})]}),Object(n.jsxs)(S.a,{style:{padding:i.spacing(6),marginBottom:i.spacing(2)},children:[Object(n.jsx)(x.a,{variant:"h6",children:"Confidential information"}),Object(n.jsx)(x.a,{variant:"caption",children:"Information entered in this section will NEVER be revealed on your site"}),Object(n.jsx)(v.a,{value:Y,onChange:function(e){return H(e.target.value)},label:"Full name",fullWidth:!0}),Object(n.jsx)(v.a,{value:q,onChange:function(e){V(e.target.value),le("")},onBlur:function(){he({email:q})},helperText:se||"",error:!!se,label:"Email",fullWidth:!0}),Object(n.jsx)(v.a,{value:Q,onChange:function(e){X(e.target.value),de("")},onBlur:function(e){return he({phone:Q})},helperText:be||"",error:!!be,label:"Phone",fullWidth:!0})]}),s&&Object(n.jsx)(x.a,{color:"red",children:"Something went wrong :(. Please double check your information"}),Object(n.jsx)(y.a,{style:{backgroundImage:"linear-gradient(to top right, #A01A7D, #EC4067)",color:"white"},onClick:function(e){l(!1),b.a.post("https://api.withlaguna.com/stonks/access/form",{title:g,description:A,link:B,subdomain:z,name:Y,email:q,phone:Q,show_amounts:"yes"===ee}).then((function(e){e.data.allow?(a(e.data.id),t()):j()})).catch((function(){j()}))},children:"Submit Information"})]})]})},W=function(e){var t=e.advanceStep,a=e.userId,i=e.refresh,o=Object(c.useState)(""),r=Object(u.a)(o,2),s=r[0],l=r[1],j=Object(c.useState)(!1),h=Object(u.a)(j,2),g=h[0],f=h[1],m=Object(O.a)();Object(c.useEffect)((function(){b.a.get("https://api.withlaguna.com/stonks/access/plaid_token/".concat(a),{params:{refresh:i}}).then((function(e){e.data.link_token?l(e.data.link_token):p()})).catch((function(){p()}))}),[]);var p=function(){f(!0)},v={token:s,onSuccess:Object(c.useCallback)((function(e,n){i?t():b.a.post("https://api.withlaguna.com/stonks/access/plaid/".concat(a),{token:e,metadata:n}).then((function(e){e.data.allow?t():p()}))}))},S=Object(d.usePlaidLink)(v),w=S.open,k=(S.ready,S.plaidError);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{variant:"h4",children:"Connect your investment brokerage"}),Object(n.jsx)(x.a,{children:"Your portfolio is automatically monitored, and trades are immediately updated using Plaid, the standard in banking connections."}),Object(n.jsx)(x.a,{variant:"caption",children:"Only read access is allowed"}),(g||k)&&Object(n.jsx)(x.a,{children:" Something went wrong :( "}),Object(n.jsx)(y.a,{onClick:function(){w()},style:{backgroundImage:"linear-gradient(to top right, #A01A7D, #EC4067)",color:"white",display:"flex",margin:"auto",marginTop:m.spacing(2)},children:"Connect bank account"})]})},B=function(){var e=f()(),t=e.width,a=e.height;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{width:t,height:a}),Object(n.jsx)(x.a,{variant:"h4",children:"Your page is building! We'll send you an email when it's ready"}),Object(n.jsx)(x.a,{variant:"caption",children:"Feedback? Email team@withlaguna.com"})]})},D=function(){var e=Object(c.useState)(1),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(!1),r=Object(u.a)(o,2),s=r[0],l=r[1],j=Object(c.useState)(),b=Object(u.a)(j,2),d=b[0],h=b[1],g=Object(O.a)();return Object(c.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e).get("plaid_refresh");t&&(i(2),l(!0),h(t))}),[]),Object(n.jsx)(A.a,{container:!0,justify:"center",alignItems:"center",style:{minHeight:"100vh",backgroundImage:"linear-gradient(to top right, #669bbc, #ecd1e5)"},children:Object(n.jsx)(A.a,{item:!0,xs:11,sm:8,md:6,children:Object(n.jsx)(S.a,{style:{paddingTop:g.spacing(12),paddingBottom:g.spacing(12)},children:a>=0&&(0===a?Object(n.jsx)(F,{advanceStep:function(){return i(1)}}):1===a?Object(n.jsx)(P,{advanceStep:function(){return i(2)},setUserId:h}):2===a?Object(n.jsx)(W,{userId:d,advanceStep:function(){return i(3)},refresh:s}):3===a?Object(n.jsx)(B,{}):Object(n.jsx)(n.Fragment,{}))})})})},L=Object(s.a)({typography:{fontFamily:["Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")},palette:{secondary:{main:"#ffffff"}}});var _=function(){return Object(n.jsx)(l.a,{theme:L,children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(D,{})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),z()},81:function(e,t,a){},82:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.6dd4b553.chunk.js.map